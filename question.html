<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="">
  <meta name="author" content="guaziing 768508958@qq.com">
  <meta http-equiv="X-UA-Compatible" content="ie=edge,chrome=1">
  <title>Document</title>
</head>
<body>
    
        <ul>
            <li>1</li>
            <li>2</li>
            <li>3</li>
            <li>4</li>
        </ul>
           <script>
            var items = document.getElementsByTagName('li');
            var len = items.length;
            for (var i = 0; i < len; i++) {
                items[i].onclick = function (num) {
                  return function(){
                    console.log(num)
                  }
                }(i)
            }
            // for (var i = 0; i < len; i++) {
            //   items[i].onclick=function(){
            //     console.log(i);
            //   }
           // }
        </script>
    </body>
    </html>
  
    <!-- //作用域链：当查找变量的时候，会先从当前上下文的变量对象中查找，如果没有找到，就会从父级(词法层面上的父级)
    //执行上下文的变量对象中查找，一直找到全局上下文的变量对象，也就是全局对象。这样由多个执行上下文的变量对象构成的链表就叫做作用域链。
// var scope = "global scope";    
    // function checkscope(){
    //     var scope2 = 'local scope';
    //     return scope2;
    // }
    // checkscope();

    //习题：简单的
    // console.log(a);
    // var a = 12;
    // function fn(){
    //     console.log(a);
    //     var a = 13;
    // }
    // fn();
    // console.log(a);
    //undefined undefined 12

    // console.log(a);
    // var a = 12;
    // function fn(){
    //     console.log(a);
    //     a = 13;
    // }
    // fn();
    // console.log(a);
    //undefined 12 13

    // console.log(a);
    // a = 12;
    // function fn(){
    //     console.log(a);
    //     a = 13;
    // }
    // fn();
    // console.log(a);

    // var foo=1;
    // function bar(){
    //     if(!foo){
    //         var foo=10;
    //     }
    //     console.log(foo);
    // }
    // bar();

  //闭包练习题
  // var a = 9;
  // function fn(){
  //     a = 0;
  //     return function (b) {
  //         return b + a++;
  //     }
  // }
  // var f = fn();
  // console.log(f(5));
  // console.log(fn()(5));
  // console.log(f(5));
  // console.log(a);
  //5 5 6 2

  // function fn(i){
  //   return function(n){
  //       console.log(n+(i++));
  //   }
  // }
  // var f = fn(10);
  // f(20);
  // fn(20)(40);
  // fn(30)(50);
  // f(30);
  //30 60 80 41


  // function fn(i){
  //   return function(n){
  //       console.log(n+(--i));
  //   }
  // }
  // var f = fn(2);
  // f(3);
  // fn(4)(5);
  // fn(6)(7);
  // f(8);
  //4 8 12 8


  //闭包 this综合
  // var num = 10;
  // var obj = {num: 20};
  // obj.fn = (function(num){
  //     this.num = num * 3;
  //     num++;
  //     return function (n) {
  //         this.num += n;
  //         num++;
  //         console.log(num);
  //     }
  // })(obj.num);
  // var fn = obj.fn;
  // fn(5);
  // obj.fn(10);
  // console.log(num, obj.num);
  //立即执行函数来进行循环
  // function first(i) {
  //   return function(){
  //     console.log(i)
  //   }
  // }
  // for(var i = 0;i < 9; i++) {
  //   first(i);
  // }
//this指向的链接：https://juejin.im/post/5c96d0c751882511c832ff7b

  </script>
</body>
</html> -->